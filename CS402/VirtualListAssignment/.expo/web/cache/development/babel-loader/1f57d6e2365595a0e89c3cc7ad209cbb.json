{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport VirtualizedList from \"react-native-web/dist/exports/VirtualizedList\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar styles = StyleSheet.create({\n  innerButton: {\n    marginRight: 10,\n    marginTop: 75,\n    marginBottom: 0,\n    width: 90\n  },\n  utilButtons: {\n    marginRight: 10,\n    marginBottom: 0,\n    width: 90,\n    marginTop: 10\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    backgroundColor: 'orange',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  textField: {\n    height: 40,\n    margin: 12,\n    width: 310,\n    color: 'white',\n    borderWidth: 1,\n    borderColor: 'white',\n    padding: 10\n  },\n  textContainer: {\n    marginTop: 0,\n    backgroundColor: 'orange',\n    alignItems: 'center',\n    textAlign: 'center',\n    justifyContent: 'center'\n  },\n  item: {\n    padding: 5,\n    height: 44,\n    color: \"black\"\n  },\n  text: {\n    fontSize: 22\n  }\n});\nvar dataList = [];\n\nvar Item = function Item(_ref) {\n  var item = _ref.item,\n      onPress = _ref.onPress,\n      backgroundColor = _ref.backgroundColor,\n      textColor = _ref.textColor;\n  return _jsx(TouchableOpacity, {\n    onPress: onPress,\n    style: [styles.item, backgroundColor],\n    children: _jsx(Text, {\n      style: [textColor, styles.text],\n      children: item.key\n    })\n  });\n};\n\nvar VirtualList = function VirtualList() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      list = _useState2[0],\n      setList = _useState2[1];\n\n  useEffect(function _callee() {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(loadButtonHandler());\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }, []);\n\n  var _useState3 = useState(\"Add an item\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      text = _useState4[0],\n      onChangeText = _useState4[1];\n\n  function toggleItem(key) {\n    var newList = list.map(function (listItem) {\n      if (listItem.key === key) {\n        listItem.selected = !listItem.selected;\n      }\n\n      return listItem;\n    });\n    setList(newList);\n  }\n\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item;\n\n    var _ref3 = item.selected ? ['black', 'white'] : ['white', 'black'],\n        _ref4 = _slicedToArray(_ref3, 2),\n        backgroundColor = _ref4[0],\n        color = _ref4[1];\n\n    return _jsx(Item, {\n      item: item,\n      onPress: function onPress() {\n        return toggleItem(item.key);\n      },\n      backgroundColor: {\n        backgroundColor: backgroundColor\n      },\n      textColor: {\n        color: color\n      }\n    });\n  };\n\n  function deleteItems() {\n    setList(list.filter(function (listItem) {\n      return !listItem.selected;\n    }));\n  }\n\n  function addButtonHandler() {\n    var newList = addItem(list, text);\n    setList(newList);\n  }\n\n  function addItem(list, text) {\n    var item = {\n      key: text,\n      selected: false\n    };\n    var count = list.filter(function (listItem) {\n      return listItem.key === text;\n    }).length;\n\n    var newList = _toConsumableArray(list);\n\n    if (!count) {\n      var addIndex = list.findIndex(function (listItem) {\n        return listItem.selected;\n      });\n      addIndex = addIndex >= 0 ? addIndex : 0;\n      newList.splice(addIndex, 0, item);\n      console.log(newList);\n      return newList;\n    }\n  }\n\n  var getItemCount = function getItemCount(data) {\n    return list.length;\n  };\n\n  var getItem = function getItem(index, key) {\n    return list[key];\n  };\n\n  function loadButtonHandler() {\n    var baseUrl, username, url;\n    return _regeneratorRuntime.async(function loadButtonHandler$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            baseUrl = \"https://cs.boisestate.edu/~scutchin/cs402/codesnips/loadjson.php\";\n            username = \"aidanleuck\";\n            url = new URL(baseUrl);\n            url.searchParams.append(\"user\", username);\n            _context2.next = 6;\n            return _regeneratorRuntime.awrap(loadRemoteList(url.toString()));\n\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function saveButtonHandler() {\n    var selected, json, baseUrl, username, url;\n    return _regeneratorRuntime.async(function saveButtonHandler$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (!(list.length > 0)) {\n              _context3.next = 10;\n              break;\n            }\n\n            selected = list.filter(function (listItem) {\n              return listItem.selected;\n            });\n            json = \"\";\n\n            if (selected.length > 0) {\n              json = JSON.stringify(selected);\n            } else {\n              json = JSON.stringify(list);\n            }\n\n            baseUrl = \"https://cs.boisestate.edu/~scutchin/cs402/codesnips/savejson.php\";\n            username = \"aidanleuck\";\n            url = new URL(baseUrl);\n            url.searchParams.append(\"user\", username);\n            _context3.next = 10;\n            return _regeneratorRuntime.awrap(saveList(url, json));\n\n          case 10:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function loadRemoteList(url) {\n    var response, data, newList, _iterator, _step, item;\n\n    return _regeneratorRuntime.async(function loadRemoteList$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            _context4.next = 3;\n            return _regeneratorRuntime.awrap(fetch(url));\n\n          case 3:\n            response = _context4.sent;\n            _context4.next = 6;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 6:\n            data = _context4.sent;\n            newList = _toConsumableArray(list);\n\n            for (_iterator = _createForOfIteratorHelperLoose(data); !(_step = _iterator()).done;) {\n              item = _step.value;\n              newList = addItem(newList, item.key);\n              setList(newList);\n            }\n\n            _context4.next = 14;\n            break;\n\n          case 11:\n            _context4.prev = 11;\n            _context4.t0 = _context4[\"catch\"](0);\n            console.log(_context4.t0);\n\n          case 14:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, [[0, 11]], Promise);\n  }\n\n  function saveList(url, json) {\n    var requestOptions, response;\n    return _regeneratorRuntime.async(function saveList$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            console.log(json);\n            requestOptions = {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: json\n            };\n            _context5.prev = 2;\n            _context5.next = 5;\n            return _regeneratorRuntime.awrap(fetch(url, requestOptions));\n\n          case 5:\n            response = _context5.sent;\n            console.log(response);\n            _context5.next = 12;\n            break;\n\n          case 9:\n            _context5.prev = 9;\n            _context5.t0 = _context5[\"catch\"](2);\n            console.log(_context5.t0);\n\n          case 12:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, [[2, 9]], Promise);\n  }\n\n  function loadRemoteItem(url, index) {\n    return _regeneratorRuntime.async(function loadRemoteItem$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function splitList() {\n    var newList = [];\n\n    for (var _iterator2 = _createForOfIteratorHelperLoose(list), _step2; !(_step2 = _iterator2()).done;) {\n      var listItem = _step2.value;\n\n      if (listItem.selected) {\n        var newItems = listItem.key.split(\",\");\n        newItems.map(function (item) {\n          var obj = {\n            key: item.trim(),\n            selected: false\n          };\n          newList.push(obj);\n        });\n      } else {\n        newList.push(listItem);\n      }\n    }\n\n    setList(newList);\n  }\n\n  function joinList() {\n    var newList = [];\n    var selectedItems = [];\n    var firstSelectedIndex = null;\n\n    for (var i = 0; i < list.length; i++) {\n      var listItem = list[i];\n\n      if (listItem.selected) {\n        var _firstSelectedIndex;\n\n        firstSelectedIndex = (_firstSelectedIndex = firstSelectedIndex) != null ? _firstSelectedIndex : i;\n        selectedItems.push(listItem.key);\n      } else {\n        newList.push(listItem);\n      }\n    }\n\n    var addItem = {};\n    addItem.key = selectedItems.join(\", \");\n    addItem.selected = false;\n\n    if (firstSelectedIndex != null) {\n      newList.splice(firstSelectedIndex, 0, addItem);\n      setList(newList);\n    }\n  }\n\n  var buttons = _jsxs(View, {\n    children: [_jsxs(View, {\n      style: styles.buttonContainer,\n      children: [_jsx(View, {\n        style: styles.innerButton,\n        children: _jsx(Button, {\n          style: true,\n          title: \"+\",\n          onPress: addButtonHandler\n        })\n      }), _jsx(View, {\n        style: styles.innerButton,\n        children: _jsx(Button, {\n          title: \"-\",\n          onPress: deleteItems\n        })\n      }), _jsx(View, {\n        style: styles.innerButton,\n        children: _jsx(Button, {\n          title: \"Split\",\n          onPress: splitList\n        })\n      }), _jsx(View, {\n        style: styles.innerButton,\n        children: _jsx(Button, {\n          title: \"Join\",\n          onPress: joinList\n        })\n      })]\n    }), _jsxs(View, {\n      style: styles.buttonContainer,\n      children: [_jsx(View, {\n        style: styles.utilButtons,\n        children: _jsx(Button, {\n          title: \"Load List\",\n          onPress: loadButtonHandler\n        })\n      }), _jsx(View, {\n        style: styles.utilButtons,\n        children: _jsx(Button, {\n          title: \"Save List\",\n          onPress: saveButtonHandler\n        })\n      })]\n    }), _jsx(View, {\n      style: styles.textContainer,\n      children: _jsx(TextInput, {\n        style: styles.textField,\n        onChangeText: onChangeText,\n        value: text\n      })\n    })]\n  });\n\n  var VirtualList = _jsxs(View, {\n    children: [buttons, _jsx(SafeAreaView, {\n      children: _jsx(VirtualizedList, {\n        data: dataList,\n        persistentScrollbar: true,\n        initialNumToRender: 4,\n        getItemCount: getItemCount,\n        getItem: getItem,\n        keyExtractor: function keyExtractor(item, index) {\n          return index;\n        },\n        renderItem: renderItem\n      })\n    })]\n  });\n\n  return VirtualList;\n};\n\nexport default VirtualList;","map":{"version":3,"sources":["/home/aidanleuck/Code/BSURepo/CS402/VirtualListAssignment/App.js"],"names":["React","useEffect","useState","styles","StyleSheet","create","innerButton","marginRight","marginTop","marginBottom","width","utilButtons","buttonContainer","flexDirection","backgroundColor","alignItems","justifyContent","textField","height","margin","color","borderWidth","borderColor","padding","textContainer","textAlign","item","text","fontSize","dataList","Item","onPress","textColor","key","VirtualList","list","setList","loadButtonHandler","onChangeText","toggleItem","newList","map","listItem","selected","renderItem","deleteItems","filter","addButtonHandler","addItem","count","length","addIndex","findIndex","splice","console","log","getItemCount","data","getItem","index","baseUrl","username","url","URL","searchParams","append","loadRemoteList","toString","saveButtonHandler","json","JSON","stringify","saveList","fetch","response","requestOptions","method","headers","body","loadRemoteItem","splitList","newItems","split","obj","trim","push","joinList","selectedItems","firstSelectedIndex","i","join","buttons"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity, Button, TextInput, VirtualizedList, SafeAreaView } from 'react-native';\n\n// Styles \nconst styles = StyleSheet.create({\n  innerButton: {\n    marginRight: 10,\n    marginTop: 75,\n    marginBottom: 0,\n    width: 90,\n  },\n  utilButtons:{\n    marginRight: 10,\n    marginBottom: 0,\n    width: 90,\n    marginTop: 10\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    backgroundColor: 'orange',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  textField: {\n    height: 40,\n    margin: 12,\n    width: 310,\n    color: 'white',\n    borderWidth: 1,\n    borderColor: 'white',\n    padding: 10,\n  },\n  textContainer: {\n    marginTop: 0,\n    backgroundColor: 'orange',\n    alignItems: 'center',\n    textAlign: 'center',\n    justifyContent: 'center'\n  },\n  item: {\n    padding: 5,\n    height: 44,\n    color: \"black\",\n  },\n  text: {\n    fontSize: 22\n  }\n});\n\nlet dataList = [];\n\n/**\n * Describes an item component\n * @param {*} item - item object containing key and selected\n * @param {*} onPress - Function to execute when list item is pressed\n * @param {*} backgroundColor - Background color to change to on press\n * @param {*} textColor - color of the text\n * @returns Built item functional component\n */\nconst Item = ({ item, onPress, backgroundColor, textColor }) => (\n  <TouchableOpacity onPress={onPress} style={[styles.item, backgroundColor]}>\n    <Text style={[textColor, styles.text]}>{item.key}</Text>\n  </TouchableOpacity>\n);\n\n/**\n * Builds up a FlatList\n * @returns A Flatlist\n */\nconst VirtualList = () => {\n\n  // States\n  const [list, setList] = useState([]);\n  useEffect(async () => {\n    await loadButtonHandler();\n  }, []);\n\n  const [text, onChangeText] = useState(\"Add an item\")\n\n\n  // Toggles an item between selected and not selected\n  // key : key in list to find\n  function toggleItem(key) {\n    const newList = list.map((listItem) => {\n      if (listItem.key === key) {\n        listItem.selected = !listItem.selected;\n      }\n      return listItem;\n    })\n    setList(newList);\n  }\n\n  /**\n   * Describes how an item should be rendered\n   * @param {*} item item object from array\n   */\n  const renderItem = ({ item }) => {\n\n    // Toggles black/white background color depending on selection\n    const [backgroundColor, color] = item.selected ? ['black', 'white'] : ['white', 'black'];\n    return (\n      <Item\n        item={item}\n        onPress={() => toggleItem(item.key)}\n        backgroundColor={{ backgroundColor }}\n        textColor={{ color }}>\n      </Item>\n    )\n  }\n\n\n  /**\n   * Deletes selected items\n   */\n  function deleteItems() {\n    setList(list.filter((listItem) => !listItem.selected))\n  }\n  function addButtonHandler(){\n    let newList = addItem(list, text);\n    setList(newList);\n  }\n\n  /**\n   * Adds an item to the lsitf\n   */\n  function addItem(list, text) {\n    let item = {\n      key: text,\n      selected: false\n    }\n\n    // Check for duplicate entries\n    let count = list.filter((listItem) => listItem.key === text).length\n    let newList = [...list];\n\n    // If no duplicates\n    if (!count) {\n\n      // Find the first selected index\n      let addIndex = list.findIndex((listItem) => listItem.selected)\n\n      // If there is a selected index then keep same value otherwise just add to 0\n      addIndex = addIndex >= 0 ? addIndex : 0;\n\n      // Splice to add item into the array\n      newList.splice(addIndex, 0, item);\n      console.log(newList);\n      return newList;\n    }\n  }\n\n  // Gets the size of the list for internal use in the virtual list\n  const getItemCount = (data) => list.length;\n\n  // Gets the item to return to the virtual list so it can perform a render\n  const getItem = (index, key) => list[key];\n\n  /**\n   * Handler for load button that sets server endpoint and proceeds to load data in the list\n   */\n  async function loadButtonHandler() {\n    let baseUrl = \"https://cs.boisestate.edu/~scutchin/cs402/codesnips/loadjson.php\"\n    let username = \"aidanleuck\"\n\n    let url = new URL(baseUrl);\n    url.searchParams.append(\"user\", username)\n\n    await loadRemoteList(url.toString());\n  }\n\n  /**\n   * Handles save button action, checks if any item is selected and only saves that item\n   */\n  async function saveButtonHandler() {\n    if (list.length > 0) {\n      let selected = list.filter((listItem) => listItem.selected);\n      let json = \"\";\n      if (selected.length > 0) {\n        json = JSON.stringify(selected);\n      }\n      else {\n        json = JSON.stringify(list);\n      }\n      let baseUrl = \"https://cs.boisestate.edu/~scutchin/cs402/codesnips/savejson.php\"\n      let username = \"aidanleuck\"\n\n      let url = new URL(baseUrl);\n      url.searchParams.append(\"user\", username)\n\n      await saveList(url, json)\n    }\n\n  }\n\n  /**\n   * Loads from a remote url and updates the list with the specified values\n   * @param {} url - The url to load data from\n   */\n  async function loadRemoteList(url) {\n    try {\n\n      let response = await fetch(url);\n      let data = await response.json();\n\n      let newList = [...list];\n      for(const item of data){\n        newList = addItem(newList, item.key);\n        setList(newList);\n      }\n    }\n    catch (err) {\n      console.log(err);\n    }\n\n  }\n\n  /**\n   * Saves the list to database\n   * @param {*} url - The url to save data to\n   * @param {*} json - The json to send to the server\n   */\n  async function saveList(url, json) {\n    console.log(json);\n    const requestOptions = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: json\n    };\n\n    try {\n      const response = await fetch(url, requestOptions);\n      console.log(response);\n    }\n    catch (err) {\n      console.log(err);\n    }\n  }\n\n  async function loadRemoteItem(url, index) {\n\n  }\n\n  /**\n   * Splits list items separated by commas\n   */\n  function splitList() {\n    let newList = [];\n    for (const listItem of list) {\n\n      // Finds selected items\n      if (listItem.selected) {\n        let newItems = listItem.key.split(\",\");\n\n        // Builds up the object and deselects them\n        newItems.map((item) => {\n          let obj = { key: item.trim(), selected: false }\n          newList.push(obj);\n        })\n      }\n      else {\n        newList.push(listItem);\n      }\n    }\n    setList(newList);\n  }\n\n  /**\n   * Joins list items separated by commas\n   */\n  function joinList() {\n    let newList = [];\n    let selectedItems = [];\n    let firstSelectedIndex = null;\n\n    for (let i = 0; i < list.length; i++) {\n      const listItem = list[i];\n\n      // Gets selected items and saves the first found index\n      if (listItem.selected) {\n        firstSelectedIndex = firstSelectedIndex ?? i;\n        selectedItems.push(listItem.key);\n      }\n      else {\n        newList.push(listItem);\n      }\n    }\n\n    // Adds new item\n    let addItem = {};\n    addItem.key = selectedItems.join(\", \")\n    addItem.selected = false;\n\n    // If there was a first selected index splice in\n    if (firstSelectedIndex != null) {\n      newList.splice(firstSelectedIndex, 0, addItem);\n      setList(newList)\n    }\n  }\n\n  const buttons = <View><View style={styles.buttonContainer}>\n    <View style={styles.innerButton}>\n      <Button style title=\"+\"\n        onPress={addButtonHandler} />\n    </View>\n    <View style={styles.innerButton}>\n      <Button title=\"-\"\n        onPress={deleteItems} />\n    </View>\n    <View style={styles.innerButton}>\n      <Button title=\"Split\"\n        onPress={splitList} />\n    </View>\n    <View style={styles.innerButton}>\n      <Button\n        title=\"Join\"\n        onPress={joinList} />\n    </View>\n  </View>\n    <View style={styles.buttonContainer}>\n      <View style={styles.utilButtons}>\n        <Button title=\"Load List\"\n          onPress={loadButtonHandler} />\n      </View>\n      <View style={styles.utilButtons}>\n        <Button title=\"Save List\"\n          onPress={saveButtonHandler} />\n      </View>\n    </View>\n    <View style={styles.textContainer}>\n      <TextInput style={styles.textField}\n        onChangeText={onChangeText}\n        value={text}\n      />\n    </View>\n  </View>\n\n  /**\n   * Main virtual list render method\n   */\n  const VirtualList = <View>\n    {buttons}\n    <SafeAreaView>\n      <VirtualizedList\n        data={dataList}\n        persistentScrollbar={true}\n        initialNumToRender={4}\n        getItemCount={getItemCount}\n        getItem={getItem}\n        keyExtractor={(item, index) => index}\n        renderItem={renderItem}\n\n      />\n    </SafeAreaView>\n  </View>\n  return (VirtualList)\n}\n\nexport default VirtualList;"]},"metadata":{},"sourceType":"module"}